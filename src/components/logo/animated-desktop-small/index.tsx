'use client';

import { useRef } from 'react';
import { useParallaxSVG } from '../useParallaxSVG';

export const AnimatedDesktopSmall = () => {
  const svgRef = useRef<SVGSVGElement>(null);
  const centerGroupRef = useRef<SVGGElement>(null);
  const topLeftLineRef = useRef<SVGPathElement>(null);
  const topRightLineRef = useRef<SVGPathElement>(null);
  const bottomLeftLineRef = useRef<SVGPathElement>(null);
  const bottomRightLineRef = useRef<SVGPathElement>(null);

  useParallaxSVG({
    svgRef,
    groupRef: centerGroupRef,
    lineRefs: {
      topLeft: topLeftLineRef,
      topRight: topRightLineRef,
      bottomLeft: bottomLeftLineRef,
      bottomRight: bottomRightLineRef,
    },
    centerRect: { x: 147, y: 389.5, width: 586, height: 224 },
    sensitivity: 12,
    clamp: 50,
    margin: 2,
    viewBox: { width: 880, height: 1003 },
    anchors: {
      topLeft: { x: 0, y: 0 },
      topRight: { x: 880, y: 0 },
      bottomLeft: { x: 0, y: 1003 },
      bottomRight: { x: 880, y: 1003 },
    },
  });

  return (
    <svg
      ref={svgRef}
      width='100%'
      height='100%'
      viewBox='0 0 880 1003'
      fill='none'
      xmlns='http://www.w3.org/2000/svg'
    >
      <g clipPath='url(#clip0_4_143)'>
        <rect
          x='2'
          y='2'
          width='876'
          height='999'
          stroke='black'
          strokeWidth='4'
        />
        {/* Top diagonal lines (corrected to 147 / 733) */}
        <path
          ref={topLeftLineRef}
          d='M147 389.5L0 0'
          stroke='black'
          strokeWidth='4'
        />
        <path
          ref={topRightLineRef}
          d='M733 389.5L880 0'
          stroke='black'
          strokeWidth='4'
        />
        <g ref={centerGroupRef}>
          <rect
            x='147'
            y='389.5'
            width='586'
            height='224'
            stroke='black'
            strokeWidth='4'
          />
          <path
            d='M653.701 558.404C652.09 566.057 646.21 569.763 639.524 569.763C629.938 569.763 622.688 561.868 622.688 551.316C622.688 541.166 630.502 532.063 639.926 532.063C648.707 532.063 653.943 538.83 654.024 546.966H627.44C627.36 547.61 627.36 548.335 627.36 549.06C627.36 558.163 634.046 564.285 641.538 564.285C646.532 564.285 650.64 562.674 653.701 558.404ZM638.799 535.688C633.965 535.688 629.615 538.83 628.004 544.227H647.74C647.499 538.991 643.954 535.688 638.799 535.688Z'
            fill='black'
          />
          <path
            d='M598.135 540.199L591.047 536.332L604.097 531.257V538.588H606.03C609.977 534.56 612.796 532.063 616.019 532.063C618.516 532.063 620.369 533.674 620.369 536.091C620.369 538.105 618.838 539.877 616.905 540.763L610.944 536.977L604.097 542.374V566.057H612.716V568.957H592.255V566.057H598.135V540.199Z'
            fill='black'
          />
          <path
            d='M576.649 570.246V565.171H574.635C571.654 567.668 568.029 569.763 564.002 569.763C557.315 569.763 553.69 565.01 553.69 558.243V536.252H547.004V533.593L559.651 532.305V556.552C559.651 562.593 563.115 565.654 568.029 565.654C571.896 565.654 575.199 563.721 576.649 561.627V536.252H569.882V533.593L582.61 532.305V562.754L589.698 565.976L576.649 570.246Z'
            fill='black'
          />
          <path
            d='M518.939 536.252L530.942 525.699V533.835H545.039L542.703 537.38H530.942V557.438C530.942 562.835 534.003 565.09 537.87 565.09C541.011 565.09 543.67 563.963 546.247 561.385C544.233 566.943 539.964 569.763 534.728 569.763C529.653 569.763 525.222 566.54 525.222 560.177L525.625 538.185L518.939 536.252Z'
            fill='black'
          />
          <path
            d='M511.628 542.374L506.795 534.641C499.706 534.721 492.698 541.005 492.698 550.188C492.698 559.049 498.659 564.527 505.989 564.527C510.662 564.527 514.689 562.352 517.187 558.646C515.978 565.332 510.42 569.763 503.492 569.763C494.551 569.763 487.22 562.513 487.22 552.363C487.22 540.682 496.806 532.063 507.117 532.063C512.998 532.063 516.22 534.56 516.22 537.943C516.22 540.36 514.045 542.213 511.628 542.374Z'
            fill='black'
          />
          <path
            d='M482.538 558.404C480.927 566.057 475.046 569.763 468.36 569.763C458.774 569.763 451.524 561.868 451.524 551.316C451.524 541.166 459.338 532.063 468.763 532.063C477.544 532.063 482.78 538.83 482.86 546.966H456.277C456.197 547.61 456.197 548.335 456.197 549.06C456.197 558.163 462.883 564.285 470.374 564.285C475.369 564.285 479.477 562.674 482.538 558.404ZM467.635 535.688C462.802 535.688 458.452 538.83 456.841 544.227H476.577C476.335 538.991 472.791 535.688 467.635 535.688Z'
            fill='black'
          />
          <path
            d='M421.921 536.252L433.924 525.699V533.835H448.021L445.685 537.38H433.924V557.438C433.924 562.835 436.985 565.09 440.851 565.09C443.993 565.09 446.651 563.963 449.229 561.385C447.215 566.943 442.946 569.763 437.71 569.763C432.635 569.763 428.204 566.54 428.204 560.177L428.607 538.185L421.921 536.252Z'
            fill='black'
          />
          <path
            d='M409.971 521.51C407.474 521.51 405.541 519.577 405.541 517.16C405.541 514.744 407.474 512.73 409.971 512.73C412.468 512.73 414.402 514.744 414.402 517.16C414.402 519.577 412.468 521.51 409.971 521.51ZM407.796 566.057V540.199L400.707 536.332L413.757 531.257V566.057H419.718V568.957H401.916V566.057H407.796Z'
            fill='black'
          />
          <path
            d='M363.204 514.583L355.551 511.199L369.165 506.124V538.105H371.178C374.078 535.366 377.864 532.063 383.181 532.063C389.706 532.063 392.687 536.816 392.687 543.663V566.057H398.648V568.957H380.845V566.057H386.726V545.274C386.726 539.716 383.826 536.896 378.912 536.896C375.045 536.896 371.42 539.474 369.165 541.73V566.057H375.126V568.957H357.242V566.057H363.204V514.583Z'
            fill='black'
          />
          <path
            d='M348.804 542.374L343.97 534.641C336.882 534.721 329.873 541.005 329.873 550.188C329.873 559.049 335.834 564.527 343.165 564.527C347.837 564.527 351.865 562.352 354.362 558.646C353.154 565.332 347.595 569.763 340.668 569.763C331.726 569.763 324.396 562.513 324.396 552.363C324.396 540.682 333.982 532.063 344.293 532.063C350.173 532.063 353.395 534.56 353.395 537.943C353.395 540.36 351.22 542.213 348.804 542.374Z'
            fill='black'
          />
          <path
            d='M299.843 540.199L292.754 536.332L305.804 531.257V538.588H307.738C311.685 534.56 314.504 532.063 317.726 532.063C320.224 532.063 322.076 533.674 322.076 536.091C322.076 538.105 320.546 539.877 318.613 540.763L312.651 536.977L305.804 542.374V566.057H314.424V568.957H293.963V566.057H299.843V540.199Z'
            fill='black'
          />
          <path
            d='M255.969 513.374H262.655L284.083 565.815H290.93V568.957H267.086V565.815H277.155L269.825 547.61H250.169L242.839 565.815H252.747V568.957H232.286V565.815H239.053L258.305 519.174L255.969 513.374ZM251.458 544.468H268.536L259.997 523.363L251.458 544.468Z'
            fill='black'
          />
          <path
            d='M651.807 459.579L644.718 455.712L657.768 450.637V457.484H659.781C662.762 454.746 666.548 451.443 671.865 451.443C678.39 451.443 681.37 456.196 681.37 463.043V485.437H687.251V488.337H669.448V485.437H675.409V464.654C675.409 459.096 672.509 456.276 667.515 456.276C663.648 456.276 660.104 458.854 657.768 461.109V485.437H663.729V488.337H645.926V485.437H651.807V459.579Z'
            fill='black'
          />
          <path
            d='M630.599 462.318C630.599 457.646 627.619 453.457 619.08 456.598V463.607H610.863C613.844 457.082 621.577 451.443 628.505 451.443C632.774 451.443 636.238 454.343 636.238 459.982V479.395C636.238 482.779 637.688 484.309 640.105 484.309C641.716 484.309 643.327 483.584 644.374 482.134C644.213 486.243 640.91 488.981 637.124 488.981C633.66 488.981 631.485 486.806 630.76 483.987H628.988C626.894 486.001 623.51 488.901 619.08 488.901C615.133 488.901 611.347 486.162 611.347 481.49C611.347 476.254 616.26 473.273 621.335 471.34L630.599 467.795V462.318ZM630.599 470.212L625.363 472.226C620.127 474.24 617.308 476.093 617.308 480.04C617.308 483.02 619.644 484.631 622.624 484.631C625.927 484.631 628.424 483.02 630.599 480.926V470.212Z'
            fill='black'
          />
          <path
            d='M549.027 459.579L541.938 455.712L554.988 450.637V457.484H557.002C559.982 454.665 563.527 451.443 568.924 451.443C573.677 451.443 576.496 454.101 577.865 457.807H579.718C582.618 454.987 586.807 451.443 592.124 451.443C598.649 451.443 601.549 456.196 601.549 463.043V485.437H607.429V488.337H589.626V485.437H595.588V464.654C595.588 459.096 592.688 456.276 587.774 456.276C583.907 456.276 580.524 458.934 578.268 461.19V485.437H584.229V488.337H566.346V485.437H572.307V464.654C572.307 459.096 569.488 456.276 564.493 456.276C560.627 456.276 557.324 458.934 554.988 461.19V485.437H560.949V488.337H543.146V485.437H549.027V459.579Z'
            fill='black'
          />
          <path
            d='M518.523 459.579L511.434 455.712L524.484 450.637V457.968H526.417C530.364 453.94 533.184 451.443 536.406 451.443C538.903 451.443 540.756 453.054 540.756 455.471C540.756 457.484 539.226 459.257 537.292 460.143L531.331 456.357L524.484 461.754V485.437H533.103V488.337H512.642V485.437H518.523V459.579Z'
            fill='black'
          />
          <path
            d='M470.976 470.293C470.976 459.176 479.917 451.443 489.584 451.443C499.331 451.443 508.272 459.176 508.272 470.293C508.272 481.409 499.331 489.143 489.584 489.143C479.917 489.143 470.976 481.409 470.976 470.293ZM477.501 470.293C477.501 479.476 483.139 486.323 489.584 486.323C496.109 486.323 501.748 479.476 501.748 470.293C501.748 461.029 496.109 454.262 489.584 454.262C483.139 454.262 477.501 461.19 477.501 470.293Z'
            fill='black'
          />
          <path
            d='M429.838 488.337H409.297V485.195H417.755V441.615L410.102 432.754H418.319L456.663 477.623V435.896H448.285V432.754H468.827V435.896H460.369V490.754L421.461 445.885V485.195H429.838V488.337Z'
            fill='black'
          />
          <path
            d='M365.547 485.034V475.69C368.447 483.101 373.281 485.92 377.55 485.92C381.256 485.92 384.317 483.584 384.317 479.637C384.317 470.615 366.353 473.273 366.353 461.593C366.353 455.309 371.589 451.443 377.147 451.443C380.047 451.443 382.786 452.812 384.397 454.343L388.425 451.362V464.09C385.042 458.371 381.497 454.504 377.147 454.504C373.925 454.504 371.428 456.518 371.428 459.901C371.428 468.279 389.714 466.184 389.714 477.865C389.714 484.309 383.753 489.143 376.583 489.143C371.992 489.143 367.642 487.29 365.547 485.034Z'
            fill='black'
          />
          <path
            d='M360.543 477.784C358.932 485.437 353.051 489.143 346.365 489.143C336.779 489.143 329.529 481.248 329.529 470.695C329.529 460.546 337.343 451.443 346.768 451.443C355.549 451.443 360.785 458.209 360.865 466.345H334.282C334.201 466.99 334.201 467.715 334.201 468.44C334.201 477.543 340.888 483.665 348.379 483.665C353.374 483.665 357.482 482.054 360.543 477.784ZM345.64 455.068C340.807 455.068 336.457 458.209 334.846 463.607H354.582C354.34 458.371 350.796 455.068 345.64 455.068Z'
            fill='black'
          />
          <path
            d='M267.532 459.579L260.443 455.712L273.493 450.637V457.484H275.507C278.487 454.665 282.032 451.443 287.429 451.443C292.182 451.443 295.001 454.101 296.37 457.807H298.223C301.123 454.987 305.312 451.443 310.629 451.443C317.154 451.443 320.053 456.196 320.053 463.043V485.437H325.934V488.337H308.131V485.437H314.092V464.654C314.092 459.096 311.192 456.276 306.279 456.276C302.412 456.276 299.029 458.934 296.773 461.19V485.437H302.734V488.337H284.851V485.437H290.812V464.654C290.812 459.096 287.993 456.276 282.998 456.276C279.132 456.276 275.829 458.934 273.493 461.19V485.437H279.454V488.337H261.651V485.437H267.532V459.579Z'
            fill='black'
          />
          <path
            d='M246.324 462.318C246.324 457.646 243.344 453.457 234.805 456.598V463.607H226.588C229.569 457.082 237.302 451.443 244.23 451.443C248.499 451.443 251.963 454.343 251.963 459.982V479.395C251.963 482.779 253.413 484.309 255.83 484.309C257.441 484.309 259.052 483.584 260.099 482.134C259.938 486.243 256.635 488.981 252.849 488.981C249.385 488.981 247.21 486.806 246.485 483.987H244.713C242.619 486.001 239.236 488.901 234.805 488.901C230.858 488.901 227.072 486.162 227.072 481.49C227.072 476.254 231.986 473.273 237.061 471.34L246.324 467.795V462.318ZM246.324 470.212L241.088 472.226C235.852 474.24 233.033 476.093 233.033 480.04C233.033 483.02 235.369 484.631 238.349 484.631C241.652 484.631 244.149 483.02 246.324 480.926V470.212Z'
            fill='black'
          />
          <path
            d='M209.343 483.343V435.896H200.885V432.754H224.246V435.896H215.868V486.001C212.968 494.54 203.946 506.22 197.26 506.22C194.521 506.22 192.749 504.287 192.749 501.951C192.749 500.42 193.474 498.648 194.924 497.681L203.382 500.823C206.363 497.762 209.343 492.204 209.343 483.343Z'
            fill='black'
          />
        </g>
        {/* Bottom diagonal lines */}
        <path
          ref={bottomLeftLineRef}
          d='M147 613.5L0 1003'
          stroke='black'
          strokeWidth='4'
        />
        <path
          ref={bottomRightLineRef}
          d='M733 613.5L880 1003'
          stroke='black'
          strokeWidth='4'
        />
      </g>
      <defs>
        <clipPath id='clip0_4_143'>
          <rect width='880' height='1003' fill='white' />
        </clipPath>
      </defs>
    </svg>
  );
};
