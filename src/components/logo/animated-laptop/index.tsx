import { useRef } from 'react';
import { useParallaxSVG } from '../useParallaxSVG';

export const AnimatedLaptop = () => {
  const svgRef = useRef<SVGSVGElement>(null);
  const centerGroupRef = useRef<SVGGElement>(null);
  const topLeftLineRef = useRef<SVGPathElement>(null);
  const topRightLineRef = useRef<SVGPathElement>(null);
  const bottomLeftLineRef = useRef<SVGPathElement>(null);
  const bottomRightLineRef = useRef<SVGPathElement>(null);
  // animation handled inside useParallaxSVG

  useParallaxSVG({
    svgRef,
    groupRef: centerGroupRef,
    lineRefs: {
      topLeft: topLeftLineRef,
      topRight: topRightLineRef,
      bottomLeft: bottomLeftLineRef,
      bottomRight: bottomRightLineRef,
    },
    centerRect: {
      x: 417,
      y: 139,
      width: 586,
      height: 224,
    },
    sensitivity: 5,
    clamp: 75,
    viewBox: { width: 1420, height: 502 },
    anchors: {
      topLeft: { x: 0, y: 0 },
      topRight: { x: 1420, y: 0 },
      bottomLeft: { x: 0, y: 502 },
      bottomRight: { x: 1420, y: 502 },
    },
    margin: 2,
  });

  return (
    <svg
      ref={svgRef}
      width='100%'
      height='100%'
      viewBox='0 0 1420 502'
      fill='none'
      xmlns='http://www.w3.org/2000/svg'
    >
      <g clipPath='url(#clip0_4_318)'>
        <rect
          x='2'
          y='2'
          width='1416'
          height='498'
          stroke='black'
          strokeWidth='4'
        />
        <path
          ref={topLeftLineRef}
          d='M415 139L1.14629e-05 -2.4307e-05'
          stroke='black'
          strokeWidth='4'
        />
        <path
          ref={topRightLineRef}
          d='M1005 139L1420 0'
          stroke='black'
          strokeWidth='4'
        />
        <path
          ref={bottomLeftLineRef}
          d='M417 363L0 502'
          stroke='black'
          strokeWidth='4'
        />
        <path
          ref={bottomRightLineRef}
          d='M1003 363L1420 502'
          stroke='black'
          strokeWidth='4'
        />
        <g ref={centerGroupRef}>
          <rect
            x='417'
            y='139'
            width='586'
            height='224'
            stroke='black'
            strokeWidth='4'
          />
          <path
            d='M923.701 307.904C922.09 315.557 916.21 319.263 909.524 319.263C899.938 319.263 892.688 311.368 892.688 300.816C892.688 290.666 900.502 281.563 909.926 281.563C918.707 281.563 923.943 288.33 924.024 296.466H897.44C897.36 297.11 897.36 297.835 897.36 298.56C897.36 307.663 904.046 313.785 911.538 313.785C916.532 313.785 920.64 312.174 923.701 307.904ZM908.799 285.188C903.965 285.188 899.615 288.33 898.004 293.727H917.74C917.499 288.491 913.954 285.188 908.799 285.188Z'
            fill='black'
          />
          <path
            d='M868.135 289.699L861.047 285.832L874.097 280.757V288.088H876.03C879.977 284.06 882.796 281.563 886.019 281.563C888.516 281.563 890.369 283.174 890.369 285.591C890.369 287.605 888.838 289.377 886.905 290.263L880.944 286.477L874.097 291.874V315.557H882.716V318.457H862.255V315.557H868.135V289.699Z'
            fill='black'
          />
          <path
            d='M846.649 319.746V314.671H844.635C841.654 317.168 838.029 319.263 834.002 319.263C827.315 319.263 823.69 314.51 823.69 307.743V285.752H817.004V283.093L829.651 281.805V306.052C829.651 312.093 833.115 315.154 838.029 315.154C841.896 315.154 845.199 313.221 846.649 311.127V285.752H839.882V283.093L852.61 281.805V312.254L859.698 315.476L846.649 319.746Z'
            fill='black'
          />
          <path
            d='M788.939 285.752L800.942 275.199V283.335H815.039L812.703 286.88H800.942V306.938C800.942 312.335 804.003 314.59 807.87 314.59C811.011 314.59 813.67 313.463 816.247 310.885C814.233 316.443 809.964 319.263 804.728 319.263C799.653 319.263 795.222 316.04 795.222 309.677L795.625 287.685L788.939 285.752Z'
            fill='black'
          />
          <path
            d='M781.628 291.874L776.795 284.141C769.706 284.221 762.698 290.505 762.698 299.688C762.698 308.549 768.659 314.027 775.989 314.027C780.662 314.027 784.689 311.852 787.187 308.146C785.978 314.832 780.42 319.263 773.492 319.263C764.551 319.263 757.22 312.013 757.22 301.863C757.22 290.182 766.806 281.563 777.117 281.563C782.998 281.563 786.22 284.06 786.22 287.443C786.22 289.86 784.045 291.713 781.628 291.874Z'
            fill='black'
          />
          <path
            d='M752.538 307.904C750.927 315.557 745.046 319.263 738.36 319.263C728.774 319.263 721.524 311.368 721.524 300.816C721.524 290.666 729.338 281.563 738.763 281.563C747.544 281.563 752.78 288.33 752.86 296.466H726.277C726.197 297.11 726.197 297.835 726.197 298.56C726.197 307.663 732.883 313.785 740.374 313.785C745.369 313.785 749.477 312.174 752.538 307.904ZM737.635 285.188C732.802 285.188 728.452 288.33 726.841 293.727H746.577C746.335 288.491 742.791 285.188 737.635 285.188Z'
            fill='black'
          />
          <path
            d='M691.921 285.752L703.924 275.199V283.335H718.021L715.685 286.88H703.924V306.938C703.924 312.335 706.985 314.59 710.851 314.59C713.993 314.59 716.651 313.463 719.229 310.885C717.215 316.443 712.946 319.263 707.71 319.263C702.635 319.263 698.204 316.04 698.204 309.677L698.607 287.685L691.921 285.752Z'
            fill='black'
          />
          <path
            d='M679.971 271.01C677.474 271.01 675.541 269.077 675.541 266.66C675.541 264.244 677.474 262.23 679.971 262.23C682.468 262.23 684.402 264.244 684.402 266.66C684.402 269.077 682.468 271.01 679.971 271.01ZM677.796 315.557V289.699L670.707 285.832L683.757 280.757V315.557H689.718V318.457H671.916V315.557H677.796Z'
            fill='black'
          />
          <path
            d='M633.204 264.083L625.551 260.699L639.165 255.624V287.605H641.178C644.078 284.866 647.864 281.563 653.181 281.563C659.706 281.563 662.687 286.316 662.687 293.163V315.557H668.648V318.457H650.845V315.557H656.726V294.774C656.726 289.216 653.826 286.396 648.912 286.396C645.045 286.396 641.42 288.974 639.165 291.23V315.557H645.126V318.457H627.242V315.557H633.204V264.083Z'
            fill='black'
          />
          <path
            d='M618.804 291.874L613.97 284.141C606.882 284.221 599.873 290.505 599.873 299.688C599.873 308.549 605.834 314.027 613.165 314.027C617.837 314.027 621.865 311.852 624.362 308.146C623.154 314.832 617.595 319.263 610.668 319.263C601.726 319.263 594.396 312.013 594.396 301.863C594.396 290.182 603.982 281.563 614.293 281.563C620.173 281.563 623.395 284.06 623.395 287.443C623.395 289.86 621.22 291.713 618.804 291.874Z'
            fill='black'
          />
          <path
            d='M569.843 289.699L562.754 285.832L575.804 280.757V288.088H577.738C581.685 284.06 584.504 281.563 587.726 281.563C590.224 281.563 592.076 283.174 592.076 285.591C592.076 287.605 590.546 289.377 588.613 290.263L582.651 286.477L575.804 291.874V315.557H584.424V318.457H563.963V315.557H569.843V289.699Z'
            fill='black'
          />
          <path
            d='M525.969 262.874H532.655L554.083 315.315H560.93V318.457H537.086V315.315H547.155L539.825 297.11H520.169L512.839 315.315H522.747V318.457H502.286V315.315H509.053L528.305 268.674L525.969 262.874ZM521.458 293.968H538.536L529.997 272.863L521.458 293.968Z'
            fill='black'
          />
          <path
            d='M921.807 209.079L914.718 205.212L927.768 200.137V206.984H929.781C932.762 204.246 936.548 200.943 941.865 200.943C948.39 200.943 951.37 205.696 951.37 212.543V234.937H957.251V237.837H939.448V234.937H945.409V214.154C945.409 208.596 942.509 205.776 937.515 205.776C933.648 205.776 930.104 208.354 927.768 210.609V234.937H933.729V237.837H915.926V234.937H921.807V209.079Z'
            fill='black'
          />
          <path
            d='M900.599 211.818C900.599 207.146 897.619 202.957 889.08 206.098V213.107H880.863C883.844 206.582 891.577 200.943 898.505 200.943C902.774 200.943 906.238 203.843 906.238 209.482V228.895C906.238 232.279 907.688 233.809 910.105 233.809C911.716 233.809 913.327 233.084 914.374 231.634C914.213 235.743 910.91 238.481 907.124 238.481C903.66 238.481 901.485 236.306 900.76 233.487H898.988C896.894 235.501 893.51 238.401 889.08 238.401C885.133 238.401 881.347 235.662 881.347 230.99C881.347 225.754 886.26 222.773 891.335 220.84L900.599 217.296V211.818ZM900.599 219.712L895.363 221.726C890.127 223.74 887.308 225.593 887.308 229.54C887.308 232.52 889.644 234.131 892.624 234.131C895.927 234.131 898.424 232.52 900.599 230.426V219.712Z'
            fill='black'
          />
          <path
            d='M819.027 209.079L811.938 205.212L824.988 200.137V206.984H827.002C829.982 204.165 833.527 200.943 838.924 200.943C843.677 200.943 846.496 203.601 847.865 207.307H849.718C852.618 204.487 856.807 200.943 862.124 200.943C868.649 200.943 871.549 205.696 871.549 212.543V234.937H877.429V237.837H859.626V234.937H865.588V214.154C865.588 208.596 862.688 205.776 857.774 205.776C853.907 205.776 850.524 208.434 848.268 210.69V234.937H854.229V237.837H836.346V234.937H842.307V214.154C842.307 208.596 839.488 205.776 834.493 205.776C830.627 205.776 827.324 208.434 824.988 210.69V234.937H830.949V237.837H813.146V234.937H819.027V209.079Z'
            fill='black'
          />
          <path
            d='M788.523 209.079L781.434 205.212L794.484 200.137V207.468H796.417C800.364 203.44 803.184 200.943 806.406 200.943C808.903 200.943 810.756 202.554 810.756 204.971C810.756 206.984 809.226 208.757 807.292 209.643L801.331 205.857L794.484 211.254V234.937H803.103V237.837H782.642V234.937H788.523V209.079Z'
            fill='black'
          />
          <path
            d='M740.976 219.793C740.976 208.676 749.917 200.943 759.584 200.943C769.331 200.943 778.272 208.676 778.272 219.793C778.272 230.909 769.331 238.643 759.584 238.643C749.917 238.643 740.976 230.909 740.976 219.793ZM747.501 219.793C747.501 228.976 753.139 235.823 759.584 235.823C766.109 235.823 771.748 228.976 771.748 219.793C771.748 210.529 766.109 203.762 759.584 203.762C753.139 203.762 747.501 210.69 747.501 219.793Z'
            fill='black'
          />
          <path
            d='M699.838 237.837H679.297V234.695H687.755V191.115L680.102 182.254H688.319L726.663 227.123V185.396H718.285V182.254H738.827V185.396H730.369V240.254L691.461 195.385V234.695H699.838V237.837Z'
            fill='black'
          />
          <path
            d='M635.547 234.534V225.19C638.447 232.601 643.281 235.42 647.55 235.42C651.256 235.42 654.317 233.084 654.317 229.137C654.317 220.115 636.353 222.773 636.353 211.093C636.353 204.809 641.589 200.943 647.147 200.943C650.047 200.943 652.786 202.312 654.397 203.843L658.425 200.862V213.59C655.042 207.871 651.497 204.004 647.147 204.004C643.925 204.004 641.428 206.018 641.428 209.401C641.428 217.779 659.714 215.684 659.714 227.365C659.714 233.809 653.753 238.643 646.583 238.643C641.992 238.643 637.642 236.79 635.547 234.534Z'
            fill='black'
          />
          <path
            d='M630.543 227.284C628.932 234.937 623.051 238.643 616.365 238.643C606.779 238.643 599.529 230.748 599.529 220.195C599.529 210.046 607.343 200.943 616.768 200.943C625.549 200.943 630.785 207.709 630.865 215.846H604.282C604.201 216.49 604.201 217.215 604.201 217.94C604.201 227.043 610.888 233.165 618.379 233.165C623.374 233.165 627.482 231.554 630.543 227.284ZM615.64 204.568C610.807 204.568 606.457 207.709 604.846 213.107H624.582C624.34 207.871 620.796 204.568 615.64 204.568Z'
            fill='black'
          />
          <path
            d='M537.532 209.079L530.443 205.212L543.493 200.137V206.984H545.507C548.487 204.165 552.032 200.943 557.429 200.943C562.182 200.943 565.001 203.601 566.37 207.307H568.223C571.123 204.487 575.312 200.943 580.629 200.943C587.154 200.943 590.053 205.696 590.053 212.543V234.937H595.934V237.837H578.131V234.937H584.092V214.154C584.092 208.596 581.192 205.776 576.279 205.776C572.412 205.776 569.029 208.434 566.773 210.69V234.937H572.734V237.837H554.851V234.937H560.812V214.154C560.812 208.596 557.993 205.776 552.998 205.776C549.132 205.776 545.829 208.434 543.493 210.69V234.937H549.454V237.837H531.651V234.937H537.532V209.079Z'
            fill='black'
          />
          <path
            d='M516.324 211.818C516.324 207.146 513.344 202.957 504.805 206.098V213.107H496.588C499.569 206.582 507.302 200.943 514.23 200.943C518.499 200.943 521.963 203.843 521.963 209.482V228.895C521.963 232.279 523.413 233.809 525.83 233.809C527.441 233.809 529.052 233.084 530.099 231.634C529.938 235.743 526.635 238.481 522.849 238.481C519.385 238.481 517.21 236.306 516.485 233.487H514.713C512.619 235.501 509.236 238.401 504.805 238.401C500.858 238.401 497.072 235.662 497.072 230.99C497.072 225.754 501.986 222.773 507.061 220.84L516.324 217.296V211.818ZM516.324 219.712L511.088 221.726C505.852 223.74 503.033 225.593 503.033 229.54C503.033 232.52 505.369 234.131 508.349 234.131C511.652 234.131 514.149 232.52 516.324 230.426V219.712Z'
            fill='black'
          />
          <path
            d='M479.343 232.843V185.396H470.885V182.254H494.246V185.396H485.868V235.501C482.968 244.04 473.946 255.72 467.26 255.72C464.521 255.72 462.749 253.787 462.749 251.451C462.749 249.92 463.474 248.148 464.924 247.181L473.382 250.323C476.363 247.262 479.343 241.704 479.343 232.843Z'
            fill='black'
          />
        </g>
      </g>
      <defs>
        <clipPath id='clip0_4_318'>
          <rect width='1420' height='502' fill='white' />
        </clipPath>
      </defs>
    </svg>
  );
};
